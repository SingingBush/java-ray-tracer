import org.apache.tools.ant.taskdefs.condition.Os

apply plugin: 'application'

sourceCompatibility = 1.8
version = '1.0'

mainClassName = "ex02.RayTracer"
if (Os.isFamily(Os.FAMILY_MAC)) {
    applicationDefaultJvmArgs = ["-XstartOnFirstThread"] // required on OSX
}

repositories {
    mavenCentral()
}

String os = System.getProperty('os.name').toLowerCase().split()[0]
String arch = System.getProperty('os.arch')

println "Need to build with native swt lib for ${os}-${arch}"

dependencies {
//    compile fileTree(dir: 'libs', include: '*.jar')
    compile files("src/main/lib/swt-4.6.3-${os}.jar")

    compile project(':entities')

    compile 'org.apache.logging.log4j:log4j-api:2.8.2'
    compile 'org.apache.logging.log4j:log4j-core:2.8.2'

    testCompile group: 'junit', name: 'junit', version: '4.12'
}
